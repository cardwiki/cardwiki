<div *ngIf="error" class="alert alert-warning alert-dismissible fade show" (click)=vanishError() role="alert">
  <strong>Could not edit Category!</strong> {{ errorMessage }}
</div>

<div *ngIf="!error" class="pt-5">
  <div class="row">
    <div class="col-md-6 mx-auto">
      <span class="anchor" id="formLogin"></span>

      <div class="card rounded-0">
        <div class="card-header">
          <h3 class="mb-0">{{mode}} category</h3>
        </div>

        <div class="card-body">
          <form class="form" [formGroup]="categoryForm" (ngSubmit)="submitCategoryForm()" autocomplete="on">

            <div class="form-group">
              <label for="categoryName">Name</label>
              <input
                type="text"
                name="name"
                formControlName="name"
                class="form-control"
                id="categoryName"
                aria-describedby="categoryNameHelp"
                placeholder="Enter category name"
                maxLength="200"
              >
              <div *ngIf="submitted && categoryForm.controls.name.errors" class="error">
                <small class="form-text text-warning">{{checkNameErrors()}}
                </small>
              </div>
            </div>

            <div class="form-group">
              <label for="parentCategory">Parent category</label>
              <input
                type="search"
                name="parentCategory"
                formControlName="parentCategory"
                class="form-control"
                id="parentCategory"
                placeholder="Parent Category"
                maxLength="200"
                list="categories"
                autocomplete="off"
              >
              <div *ngIf="submitted && categoryForm.controls.parentCategory.errors" class="error">
                <small class="form-text text-warning" *ngIf="categoryForm.controls.parentCategory.errors.maxLength">
                  Maximum length exceeded.
                </small>
              </div>
            </div>
              <datalist id="categories">
                <option *ngFor="let category of this.categories"  [value]="category">
              </datalist>

            <button type="submit" class="btn btn-success float-right">{{mode}}</button>

          </form>

      </div>

    </div>
  </div>
</div>
